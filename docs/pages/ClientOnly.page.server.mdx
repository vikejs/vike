import { Link } from '@brillout/docpress'
import { ClientOnlyCommon } from './ClientOnly/ClientOnlyCommon.tsx'
import { UiFrameworkVikeExtension } from '../components'

Provided by: <UiFrameworkVikeExtension /> (or <Link href="#without-vike-extension">yourself</Link>).

The `<ClientOnly>` wrapper enables you to render and load a component only on the client-side.

> Alternatively, you can set <Link href="/ssr">`ssr: false`</Link> to render and load the entire page only on the client-side.

Common use cases:

 - **Library components that don't support SSR**. A solution is to render and load the component only on the client-side.
   > Most component libraries nowadays support SSR but some don't. Some even crash when they're merely loaded on the server-side (for example if the library has a hard reference to browser-only APIs/objects such as `window`).
 - **Performance**. `<ClientOnly>` allows you to defer loading heavy components, such as a complex interactive map. That way, your users can already interact with your page before even the browser starts loading that heavy component.
   > Vite code-splits dyanmic imports such as `const { SomeComponent } = await import('./SomeComponent')`. In other words, the code of `<SomeComponent />` isn't included in the initial JavaScript client bundle: it's loaded only when/if `import()` is called.


## React

<ClientOnlyCommon packageName="vike-react" />

## Solid

<ClientOnlyCommon packageName="vike-solid" />

## Vue

<ClientOnlyCommon packageName="vike-vue" />

## Without Vike extension

In case you don't use a <UiFrameworkVikeExtension />, you can implement `<ClientOnly>` yourself.

Examples:
 - [`vike-react` > /components/ClientOnly.tsx](https://github.com/vikejs/vike-react/blob/main/packages/vike-react/components/ClientOnly.tsx)
 - [`vike-vue` > /components/ClientOnly.vue](https://github.com/vikejs/vike-vue/blob/main/packages/vike-vue/components/ClientOnly.vue)
 - [`vike-solid` > /components/ClientOnly.tsx](https://github.com/vikejs/vike-solid/blob/main/vike-solid/components/ClientOnly.tsx)
