import { Link } from '@brillout/docpress'

If you're new to modern web development with JavaScript and [React](https://react.dev) or [Vue](https://vuejs.org), you might have heard the terms **SSR** (Server-Side Rendering) and **SPA** (Single Page Application) but aren't sure what they mean.

This page explains both concepts and their differences.

> If you're already familiar with SSR and SPA and you only want to decide which one to choose, see <Link href="/SSR-vs-SPA" /> instead.

A unique aspect about JavaScript is that it can in both the browser (browsers support only two languages: [JavaScript](https://en.wikipedia.org/wiki/JavaScript) and [WebAssembly](https://webassembly.org)) and on the server (by using a JavaScript runtime such as [Node.js](https://nodejs.org)).

// TODO: Check for English mistakes? Weird flow with Subsequent sentence?
This means that when you define a component like this:

```jsx
// Welcome.jsx

function Welcome() {
  return (
    <>
      <h1>Welcome to my blog</h1>
      <p>This is an article about web development...</p>
    </>
  )
}
```

This JSX code is compiled (by [Vite](https://vite.dev)) to JavaScript and can be run on the client and/or the server.

**SPA** denotes the practice of rendering components only on the client-side (i.e. in the browser):

```jsx
// render.js
// Environment: client

import { Welcome } from './Welcome'

// Render <Welcome> on the client-side
import { createRoot } from 'react-dom/client'
function App() {
  return <Welcome />
}
const root = createRoot(document.getElementById('root'))
root.render(<App />)
```

The HTML delivered to the browser is minimal and doesn't contain the actual content:

```html
<!DOCTYPE html>
<html>
  <head>
    <title>My SPA</title>
  </head>
  <body>
    <!-- Empty container: content will be added dynamically by the client-side JavaScript -->
    <div id="root"></div>
    <script src="/render.js"></script>
  </body>
</html>
```

**SSR** (**S**erver-**S**ide **R**endering) denotes the practice of rendering components to HTML on the server-side and <Link href="/hydration">hydrating</Link> them (making them interactive) on the client-side.

```jsx
// ssr.js
// Environment: server

import { Welcome } from './Welcome'

// Render <Welcome> to HTML on the server-side
import { renderToString } from 'react-dom/server'
const html = renderToString(<Welcome />)
```

```jsx
// hydrate.js
// Environment: client

import { Welcome } from './Welcome'

// Hydrate <Weclome> on the client-side
import { hydrateRoot } from 'react-dom/client'
hydrateRoot(document.getElementById('root'), <Welcome />)
```

> In this example, hydrating is useless because `<Weclome>` isn't interactive, but note that interactive components (e.g. `<Counter>`) require hydration.

The HTML delivered to the browser contains the actual content:

```html
<!DOCTYPE html>
<html>
  <head>
    <title>My SSR App</title>
  </head>
  <body>
    <!-- Content is rendered to HTML -->
    <div id="root">
      <h1>Welcome to my blog</h1>
      <p>This is an article about web development...</p>
    </div>
    <script src="/hydrate.js"></script>
  </body>
</html>
```

Note how with SSR, the content of `<Welcome>` is included in the HTML, but with SPA it's missing.

This is the central functional difference between SSR and SPA: **with SSR the page's content is rendered to HTML whereas with SPA the HTML is just an empty shell**.

It matters for two reasons:
 - Crawlers (e.g. search engines and AI)
 - Performance


## Crawlers

The [crawlers](https://en.wikipedia.org/wiki/Web_crawler) of **search engines** (e.g. Google) and **social media sites** (e.g. Instagram, Twitter), and **AI** (e.g. ChatGPT) navigate your website by recursively reading the HTML of your pages while following `<a href="/some-other-page">` links found in the HTML.

With SPA, a crawler only sees an empty HTML.

```html
<!-- ❌ Crawlers doesn't see the page's content -->
<div id="root"></div>
```

Whereas with SSR:

```html
<!-- ✅ Crawlers sees the page's content -->
<div id="root">
  <h1>Welcome to My Blog</h1>
  <p>This is an article about web development...</p>
</div>
```

> See also: <Link href="/SSR-vs-SPA" />

> **Note:** Google's crawler can execute client-side JavaScript, but we still recommend using SSR even if you only want to target Google.
>
> <details>
> <summary>Why SSR is still recommended for Google</summary>
>
> // TODO: elaborate a bit more
> Google's crawler is unique because it can also execute client-side JavaScript. This means Google is able to index the content of SPA apps, but it isn't reliable and the common recommendation is still to use SSR even if you only want to target Google. (Also, Google may very well stop doing this since SSR has become a ubiquitous practice.)
> </details>


## Performance

The load time of the first page the user visits is faster with SSR, especially on mobile devices where JavaScript loading and execution can be much slower. With SPA, users may see a blank page for several seconds while JavaScript loads and executes.

> Subsequent page navigation (aka <Link href="/client-routing">client-side navigation</Link>) is equally fast between SSR and SPA.

#### Timeline example on mobile

*SPA*:
1. 0s: User visits page
2. 1s: HTML loads (empty)
3. 3s: JavaScript downloads
4. 5s: JavaScript executes and renders content ← User finally sees content

*SSR*:
1. 0s: User visits page
2. 1s: HTML loads with content ← User sees content immediately
3. 3s: JavaScript downloads
4. 5s: JavaScript hydrates (makes content interactive)

> See also: <Link href="/SSR-vs-SPA" />


## SPA is a misnomer

The term "SPA" (Single Page Application) is technically a misnomer in modern usage.

**Historically**, SPA referred to applications that truly had only one page - like [Gmail](https://thehistoryoftheweb.com/what-does-ajax-even-stand-for/), where you never navigate to different URLs, everything happens within a single page interface.

**Today**, "SPA" is commonly used to mean "not SSR" - referring to any client-side rendered application, even if it has multiple pages with different URLs. This is technically incorrect but has become the accepted usage.

// TODO: Check for English mistakes?
> A more accurate term would be CSR (Client-Side Rendering) but "SPA" is ubiquitously used in the web development community. That's why we still use the term SPA throughout Vike's documentation.


## See also

- <Link href="/SSR-vs-SPA" />
- <Link href="/hydration" />
- <Link href="/ssr" />
