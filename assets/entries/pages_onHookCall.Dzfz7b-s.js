import{o as a,a as t}from"../chunks/chunk-CxIOOiKX.js";import{j as s}from"../chunks/chunk-B35a6FX-.js";import{L as n}from"../chunks/chunk-BbfG-aTg.js";/* empty css                      */import{W as i}from"../chunks/chunk-4VEk4LmV.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */import{u as c}from"../chunks/chunk-CJvpbNqo.js";/* empty css                      */import{C as d}from"../chunks/chunk-BLfhGi7M.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */import"../chunks/chunk-DuyKlQcD.js";/* empty css                      */const h=[{pageSectionId:"use-case-instrumentation",pageSectionLevel:2,pageSectionTitle:"Use case: instrumentation"},{pageSectionId:"use-case-logging",pageSectionLevel:2,pageSectionTitle:"Use case: logging"},{pageSectionId:"see-also",pageSectionLevel:2,pageSectionTitle:"See also"}];function o(e){const l={blockquote:"blockquote",code:"code",div:"div",figure:"figure",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...c(),...e.components},{ChoiceGroup:r}=l;return r||x("ChoiceGroup"),s.jsxs(s.Fragment,{children:[s.jsx(d,{env:"server (and/or client)",cumulative:!0,global:!0,children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light","ts-only":"true","hide-menu":"true",children:s.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"type"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" OnHookCall"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#24292E"},children:" ("}),s.jsx(l.span,{style:{color:"#E36209"},children:"hook"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Hook"}),s.jsx(l.span,{style:{color:"#24292E"},children:", "}),s.jsx(l.span,{style:{color:"#E36209"},children:"pageContext"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" null"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" |"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" PageContextServer"}),s.jsx(l.span,{style:{color:"#24292E"},children:") "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" void"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"type"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Hook"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#E36209"},children:"  name"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" string"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#E36209"},children:"  filePath"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" string"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"  call"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#24292E"},children:" () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" void"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" |"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Promise"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#005CC5"},children:"void"}),s.jsx(l.span,{style:{color:"#24292E"},children:">"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})}),`
`,s.jsx(i,{children:s.jsx(l.p,{children:"It's in beta: breaking changes may occur with any version update."})}),`
`,s.jsx(l.p,{children:"Hook called whenever a Vike hook is called. Commonly used for instrumentation (e.g. Sentry, OpenTelemetry)."}),`
`,s.jsxs(r,{choiceGroup:{name:"codeLang",choices:["JavaScript","TypeScript"],default:"JavaScript",disabled:[]},lvl:"0",children:[s.jsx(l.div,{"data-choice-value":"JavaScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"js","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+onHookCall.js"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment: server"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" async"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" onHookCall"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#E36209"},children:"hook"}),s.jsx(l.span,{style:{color:"#24292E"},children:", "}),s.jsx(l.span,{style:{color:"#E36209"},children:"pageContext"}),s.jsx(l.span,{style:{color:"#24292E"},children:") {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  console."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"log"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'before'"}),s.jsx(l.span,{style:{color:"#24292E"},children:", hook.name, hook.filePath)"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" hook."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"call"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  console."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"log"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'after'"}),s.jsx(l.span,{style:{color:"#24292E"},children:", hook.name, hook.filePath)"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})}),s.jsx(l.div,{"data-choice-value":"TypeScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+onHookCall.ts"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment: server"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" type"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { Config, PageContextServer } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vike/types'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"type"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Hook"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Parameters"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"Extract"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"Config"}),s.jsx(l.span,{style:{color:"#24292E"},children:"["}),s.jsx(l.span,{style:{color:"#032F62"},children:"'onHookCall'"}),s.jsx(l.span,{style:{color:"#24292E"},children:"], "}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"Function"}),s.jsx(l.span,{style:{color:"#24292E"},children:">>["}),s.jsx(l.span,{style:{color:"#005CC5"},children:"0"}),s.jsx(l.span,{style:{color:"#24292E"},children:"]"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" async"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" onHookCall"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#E36209"},children:"hook"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Hook"}),s.jsx(l.span,{style:{color:"#24292E"},children:", "}),s.jsx(l.span,{style:{color:"#E36209"},children:"pageContext"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" PageContextServer"}),s.jsx(l.span,{style:{color:"#24292E"},children:") {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  console."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"log"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'before'"}),s.jsx(l.span,{style:{color:"#24292E"},children:", hook.name, hook.filePath)"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" hook."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"call"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  console."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"log"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'after'"}),s.jsx(l.span,{style:{color:"#24292E"},children:", hook.name, hook.filePath)"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})})]}),`
`,s.jsxs(l.blockquote,{children:[`
`,s.jsxs(l.p,{children:["You must always call ",s.jsx(l.code,{children:"hook.call()"})," and do so before any ",s.jsx(l.code,{children:"await"}),"."]}),`
`,s.jsxs(r,{choiceGroup:{name:"codeLang",choices:["JavaScript","TypeScript"],default:"JavaScript",disabled:[]},lvl:"0",children:[s.jsx(l.div,{"data-choice-value":"JavaScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"js","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// ❌ This breaks sync hooks"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" const"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" onHookCall"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" ("}),s.jsx(l.span,{style:{color:"#E36209"},children:"hook"}),s.jsx(l.span,{style:{color:"#24292E"},children:", "}),s.jsx(l.span,{style:{color:"#E36209"},children:"pageContext"}),s.jsx(l.span,{style:{color:"#24292E"},children:") "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" someAsyncOperation"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" hook."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"call"}),s.jsx(l.span,{style:{color:"#24292E"},children:"() "}),s.jsx(l.span,{style:{color:"#6A737D"},children:"// Too late for sync hooks!"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})}),s.jsx(l.div,{"data-choice-value":"TypeScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// ❌ This breaks sync hooks"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" const"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" onHookCall"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Config"}),s.jsx(l.span,{style:{color:"#24292E"},children:"["}),s.jsx(l.span,{style:{color:"#032F62"},children:"'onHookCall'"}),s.jsx(l.span,{style:{color:"#24292E"},children:"] "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" ("}),s.jsx(l.span,{style:{color:"#E36209"},children:"hook"}),s.jsx(l.span,{style:{color:"#24292E"},children:", "}),s.jsx(l.span,{style:{color:"#E36209"},children:"pageContext"}),s.jsx(l.span,{style:{color:"#24292E"},children:") "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" someAsyncOperation"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" hook."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"call"}),s.jsx(l.span,{style:{color:"#24292E"},children:"() "}),s.jsx(l.span,{style:{color:"#6A737D"},children:"// Too late for sync hooks!"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})})]}),`
`,s.jsxs(r,{choiceGroup:{name:"codeLang",choices:["JavaScript","TypeScript"],default:"JavaScript",disabled:[]},lvl:"0",children:[s.jsx(l.div,{"data-choice-value":"JavaScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"js","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// ✅ This works for both sync and async hooks"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" const"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" onHookCall"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" ("}),s.jsx(l.span,{style:{color:"#E36209"},children:"hook"}),s.jsx(l.span,{style:{color:"#24292E"},children:", "}),s.jsx(l.span,{style:{color:"#E36209"},children:"pageContext"}),s.jsx(l.span,{style:{color:"#24292E"},children:") "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" hook."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"call"}),s.jsx(l.span,{style:{color:"#24292E"},children:"() "}),s.jsx(l.span,{style:{color:"#6A737D"},children:"// Called before any await"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" someAsyncOperation"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})}),s.jsx(l.div,{"data-choice-value":"TypeScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// ✅ This works for both sync and async hooks"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" const"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" onHookCall"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Config"}),s.jsx(l.span,{style:{color:"#24292E"},children:"["}),s.jsx(l.span,{style:{color:"#032F62"},children:"'onHookCall'"}),s.jsx(l.span,{style:{color:"#24292E"},children:"] "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" ("}),s.jsx(l.span,{style:{color:"#E36209"},children:"hook"}),s.jsx(l.span,{style:{color:"#24292E"},children:", "}),s.jsx(l.span,{style:{color:"#E36209"},children:"pageContext"}),s.jsx(l.span,{style:{color:"#24292E"},children:") "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" hook."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"call"}),s.jsx(l.span,{style:{color:"#24292E"},children:"() "}),s.jsx(l.span,{style:{color:"#6A737D"},children:"// Called before any await"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" someAsyncOperation"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})})]}),`
`]}),`
`,s.jsxs(l.p,{children:["The first parameter ",s.jsx(l.code,{children:"hook"})," contains:"]}),`
`,s.jsxs(l.ul,{children:[`
`,s.jsxs(l.li,{children:[s.jsx(l.code,{children:"hook.name"})," — Name of the hook being called (e.g. ",s.jsx(l.code,{children:"'onRenderHtml'"}),", ",s.jsx(l.code,{children:"'data'"}),", ",s.jsx(l.code,{children:"'guard'"}),")"]}),`
`,s.jsxs(l.li,{children:[s.jsx(l.code,{children:"hook.filePath"})," — File path where the hook is defined"]}),`
`,s.jsxs(l.li,{children:[s.jsx(l.code,{children:"hook.call()"})," — Call the hook"]}),`
`]}),`
`,s.jsxs(l.p,{children:["The second parameter is ",s.jsx(n,{href:"/pageContext",children:s.jsx(l.code,{children:"pageContext"})})," or ",s.jsx(l.code,{children:"null"}),"."]}),`
`,s.jsxs(l.blockquote,{children:[`
`,s.jsxs(l.p,{children:["You can access ",s.jsx(n,{href:"/globalContext",children:s.jsx(l.code,{children:"globalContext"})})," by using ",s.jsx(n,{href:"/getGlobalContext",noBreadcrumb:!0}),"."]}),`
`]}),`
`,s.jsxs(l.blockquote,{children:[`
`,s.jsxs(l.p,{children:["To execute it on the client, define ",s.jsx(l.code,{children:"+onHookCall.client.js"})," or ",s.jsx(l.code,{children:"+onHookCall.shared.js"})," — see ",s.jsx(n,{href:"/file-env"}),"."]}),`
`]}),`
`,s.jsx("h2",{id:"use-case-instrumentation",children:"Use case: instrumentation"}),`
`,s.jsx(l.p,{children:"Instrument hooks with Sentry:"}),`
`,s.jsxs(r,{choiceGroup:{name:"codeLang",choices:["JavaScript","TypeScript"],default:"JavaScript",disabled:[]},lvl:"0",children:[s.jsx(l.div,{"data-choice-value":"JavaScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"js","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+onHookCall.js"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment: server"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" *"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" as"}),s.jsx(l.span,{style:{color:"#24292E"},children:" Sentry "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" '@sentry/node'"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" async"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" onHookCall"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#E36209"},children:"hook"}),s.jsx(l.span,{style:{color:"#24292E"},children:", "}),s.jsx(l.span,{style:{color:"#E36209"},children:"pageContext"}),s.jsx(l.span,{style:{color:"#24292E"},children:") {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" Sentry."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"startSpan"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"    {"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"      op: "}),s.jsx(l.span,{style:{color:"#032F62"},children:"'vike.hook'"}),s.jsx(l.span,{style:{color:"#24292E"},children:","})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"      name: hook.name,"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"      attributes: { filePath: hook.filePath }"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"    },"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"    async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"      await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" hook."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"call"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"    }"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"  )"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})}),s.jsx(l.div,{"data-choice-value":"TypeScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+onHookCall.ts"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment: server"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" *"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" as"}),s.jsx(l.span,{style:{color:"#24292E"},children:" Sentry "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" '@sentry/node'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" type"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { Config, PageContextServer } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vike/types'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"type"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Hook"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Parameters"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"Extract"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"Config"}),s.jsx(l.span,{style:{color:"#24292E"},children:"["}),s.jsx(l.span,{style:{color:"#032F62"},children:"'onHookCall'"}),s.jsx(l.span,{style:{color:"#24292E"},children:"], "}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"Function"}),s.jsx(l.span,{style:{color:"#24292E"},children:">>["}),s.jsx(l.span,{style:{color:"#005CC5"},children:"0"}),s.jsx(l.span,{style:{color:"#24292E"},children:"]"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" async"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" onHookCall"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#E36209"},children:"hook"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Hook"}),s.jsx(l.span,{style:{color:"#24292E"},children:", "}),s.jsx(l.span,{style:{color:"#E36209"},children:"pageContext"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" PageContextServer"}),s.jsx(l.span,{style:{color:"#24292E"},children:") {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" Sentry."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"startSpan"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"    {"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"      op: "}),s.jsx(l.span,{style:{color:"#032F62"},children:"'vike.hook'"}),s.jsx(l.span,{style:{color:"#24292E"},children:","})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"      name: hook.name,"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"      attributes: { filePath: hook.filePath }"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"    },"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"    async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"      await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" hook."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"call"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"    }"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"  )"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})})]}),`
`,s.jsx(l.p,{children:"Instrument hooks with OpenTelemetry:"}),`
`,s.jsxs(r,{choiceGroup:{name:"codeLang",choices:["JavaScript","TypeScript"],default:"JavaScript",disabled:[]},lvl:"0",children:[s.jsx(l.div,{"data-choice-value":"JavaScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"js","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+onHookCall.js"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment: server"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { trace } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" '@opentelemetry/api'"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" tracer"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#24292E"},children:" trace."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"getTracer"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'vike'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" async"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" onHookCall"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#E36209"},children:"hook"}),s.jsx(l.span,{style:{color:"#24292E"},children:", "}),s.jsx(l.span,{style:{color:"#E36209"},children:"pageContext"}),s.jsx(l.span,{style:{color:"#24292E"},children:") {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" tracer."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"startActiveSpan"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(hook.name, "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" ("}),s.jsx(l.span,{style:{color:"#E36209"},children:"span"}),s.jsx(l.span,{style:{color:"#24292E"},children:") "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"    span."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"setAttribute"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'hook.filePath'"}),s.jsx(l.span,{style:{color:"#24292E"},children:", hook.filePath)"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"    try"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"      await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" hook."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"call"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"    } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"finally"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"      span."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"end"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"    }"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"  })"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})}),s.jsx(l.div,{"data-choice-value":"TypeScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+onHookCall.ts"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment: server"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { trace } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" '@opentelemetry/api'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" type"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { Config, PageContextServer } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vike/types'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"type"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Hook"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Parameters"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"Extract"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"Config"}),s.jsx(l.span,{style:{color:"#24292E"},children:"["}),s.jsx(l.span,{style:{color:"#032F62"},children:"'onHookCall'"}),s.jsx(l.span,{style:{color:"#24292E"},children:"], "}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"Function"}),s.jsx(l.span,{style:{color:"#24292E"},children:">>["}),s.jsx(l.span,{style:{color:"#005CC5"},children:"0"}),s.jsx(l.span,{style:{color:"#24292E"},children:"]"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" tracer"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#24292E"},children:" trace."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"getTracer"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'vike'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" async"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" onHookCall"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#E36209"},children:"hook"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Hook"}),s.jsx(l.span,{style:{color:"#24292E"},children:", "}),s.jsx(l.span,{style:{color:"#E36209"},children:"pageContext"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" PageContextServer"}),s.jsx(l.span,{style:{color:"#24292E"},children:") {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" tracer."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"startActiveSpan"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(hook.name, "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" ("}),s.jsx(l.span,{style:{color:"#E36209"},children:"span"}),s.jsx(l.span,{style:{color:"#24292E"},children:") "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"    span."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"setAttribute"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'hook.filePath'"}),s.jsx(l.span,{style:{color:"#24292E"},children:", hook.filePath)"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"    try"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"      await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" hook."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"call"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"    } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"finally"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"      span."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"end"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"    }"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"  })"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})})]}),`
`,s.jsxs(l.p,{children:["See also: ",s.jsx(n,{href:"/error-tracking"})]}),`
`,s.jsx("h2",{id:"use-case-logging",children:"Use case: logging"}),`
`,s.jsx(l.p,{children:"Log all hook executions for debugging:"}),`
`,s.jsxs(r,{choiceGroup:{name:"codeLang",choices:["JavaScript","TypeScript"],default:"JavaScript",disabled:[]},lvl:"0",children:[s.jsx(l.div,{"data-choice-value":"JavaScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"js","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+onHookCall.shared.js"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment: server & client"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" async"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" onHookCall"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#E36209"},children:"hook"}),s.jsx(l.span,{style:{color:"#24292E"},children:", "}),s.jsx(l.span,{style:{color:"#E36209"},children:"pageContext"}),s.jsx(l.span,{style:{color:"#24292E"},children:") {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" start"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#24292E"},children:" performance."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"now"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  console."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"log"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"`[+${"}),s.jsx(l.span,{style:{color:"#24292E"},children:"hook"}),s.jsx(l.span,{style:{color:"#032F62"},children:"."}),s.jsx(l.span,{style:{color:"#24292E"},children:"name"}),s.jsx(l.span,{style:{color:"#032F62"},children:"}] start`"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  try"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"    await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" hook."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"call"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"    console."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"log"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"`[+${"}),s.jsx(l.span,{style:{color:"#24292E"},children:"hook"}),s.jsx(l.span,{style:{color:"#032F62"},children:"."}),s.jsx(l.span,{style:{color:"#24292E"},children:"name"}),s.jsx(l.span,{style:{color:"#032F62"},children:"}] done in ${"}),s.jsx(l.span,{style:{color:"#032F62"},children:"("}),s.jsx(l.span,{style:{color:"#24292E"},children:"performance"}),s.jsx(l.span,{style:{color:"#032F62"},children:"."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"now"}),s.jsx(l.span,{style:{color:"#032F62"},children:"() "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"-"}),s.jsx(l.span,{style:{color:"#24292E"},children:" start"}),s.jsx(l.span,{style:{color:"#032F62"},children:")."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"toFixed"}),s.jsx(l.span,{style:{color:"#032F62"},children:"("}),s.jsx(l.span,{style:{color:"#005CC5"},children:"2"}),s.jsx(l.span,{style:{color:"#032F62"},children:")"}),s.jsx(l.span,{style:{color:"#032F62"},children:"}ms`"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"catch"}),s.jsx(l.span,{style:{color:"#24292E"},children:" (error) {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"    console."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"error"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"`[+${"}),s.jsx(l.span,{style:{color:"#24292E"},children:"hook"}),s.jsx(l.span,{style:{color:"#032F62"},children:"."}),s.jsx(l.span,{style:{color:"#24292E"},children:"name"}),s.jsx(l.span,{style:{color:"#032F62"},children:"}] error`"}),s.jsx(l.span,{style:{color:"#24292E"},children:", error)"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"    throw"}),s.jsx(l.span,{style:{color:"#24292E"},children:" error"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"  }"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})}),s.jsx(l.div,{"data-choice-value":"TypeScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+onHookCall.shared.ts"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment: server & client"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" type"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { Config, PageContext } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vike/types'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"type"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Hook"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Parameters"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"Extract"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"Config"}),s.jsx(l.span,{style:{color:"#24292E"},children:"["}),s.jsx(l.span,{style:{color:"#032F62"},children:"'onHookCall'"}),s.jsx(l.span,{style:{color:"#24292E"},children:"], "}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"Function"}),s.jsx(l.span,{style:{color:"#24292E"},children:">>["}),s.jsx(l.span,{style:{color:"#005CC5"},children:"0"}),s.jsx(l.span,{style:{color:"#24292E"},children:"]"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" async"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" onHookCall"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#E36209"},children:"hook"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Hook"}),s.jsx(l.span,{style:{color:"#24292E"},children:", "}),s.jsx(l.span,{style:{color:"#E36209"},children:"pageContext"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" PageContext"}),s.jsx(l.span,{style:{color:"#24292E"},children:") {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" start"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#24292E"},children:" performance."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"now"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  console."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"log"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"`[+${"}),s.jsx(l.span,{style:{color:"#24292E"},children:"hook"}),s.jsx(l.span,{style:{color:"#032F62"},children:"."}),s.jsx(l.span,{style:{color:"#24292E"},children:"name"}),s.jsx(l.span,{style:{color:"#032F62"},children:"}] start`"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  try"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"    await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" hook."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"call"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"    console."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"log"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"`[+${"}),s.jsx(l.span,{style:{color:"#24292E"},children:"hook"}),s.jsx(l.span,{style:{color:"#032F62"},children:"."}),s.jsx(l.span,{style:{color:"#24292E"},children:"name"}),s.jsx(l.span,{style:{color:"#032F62"},children:"}] done in ${"}),s.jsx(l.span,{style:{color:"#032F62"},children:"("}),s.jsx(l.span,{style:{color:"#24292E"},children:"performance"}),s.jsx(l.span,{style:{color:"#032F62"},children:"."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"now"}),s.jsx(l.span,{style:{color:"#032F62"},children:"() "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"-"}),s.jsx(l.span,{style:{color:"#24292E"},children:" start"}),s.jsx(l.span,{style:{color:"#032F62"},children:")."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"toFixed"}),s.jsx(l.span,{style:{color:"#032F62"},children:"("}),s.jsx(l.span,{style:{color:"#005CC5"},children:"2"}),s.jsx(l.span,{style:{color:"#032F62"},children:")"}),s.jsx(l.span,{style:{color:"#032F62"},children:"}ms`"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"catch"}),s.jsx(l.span,{style:{color:"#24292E"},children:" (error) {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"    console."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"error"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"`[+${"}),s.jsx(l.span,{style:{color:"#24292E"},children:"hook"}),s.jsx(l.span,{style:{color:"#032F62"},children:"."}),s.jsx(l.span,{style:{color:"#24292E"},children:"name"}),s.jsx(l.span,{style:{color:"#032F62"},children:"}] error`"}),s.jsx(l.span,{style:{color:"#24292E"},children:", error)"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"    throw"}),s.jsx(l.span,{style:{color:"#24292E"},children:" error"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"  }"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})})]}),`
`,s.jsx("h2",{id:"see-also",children:"See also"}),`
`,s.jsxs(l.ul,{children:[`
`,s.jsxs(l.li,{children:[`
`,s.jsx(n,{href:"/error-tracking"}),`
`]}),`
`,s.jsxs(l.li,{children:[`
`,s.jsx(n,{href:"/onError"}),`
`]}),`
`,s.jsxs(l.li,{children:[`
`,s.jsx(n,{href:"/hooks"}),`
`]}),`
`]})]})}function p(e={}){const{wrapper:l}={...c(),...e.components};return l?s.jsx(l,{...e,children:s.jsx(o,{...e})}):o(e)}function x(e,l){throw new Error("Expected component `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}const j=Object.freeze(Object.defineProperty({__proto__:null,default:p,pageSectionsExport:h},Symbol.toStringTag,{value:"Module"})),z={hasServerOnlyHook:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!1}},isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},guardEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"@brillout/docpress/renderer/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:t}},onCreatePageContext:{type:"cumulative",definedAtData:[{filePathToShowToUser:"@brillout/docpress/renderer/onCreatePageContext",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:a}]},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/onHookCall/+Page.mdx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:j}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"@brillout/docpress/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}}};export{z as configValuesSerialized};
