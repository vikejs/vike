import{o,a as i}from"../chunks/chunk-CxIOOiKX.js";import{j as s}from"../chunks/chunk-B35a6FX-.js";import{L as r}from"../chunks/chunk-BbfG-aTg.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */import{u as a}from"../chunks/chunk-CJvpbNqo.js";/* empty css                      *//* empty css                      *//* empty css                      */const t=[{pageSectionId:"unit-tests",pageSectionLevel:2,pageSectionTitle:"Unit tests"},{pageSectionId:"with-vike-e2e",pageSectionLevel:2,pageSectionTitle:"With Vike (e2e)"},{pageSectionId:"see-also",pageSectionLevel:2,pageSectionTitle:"See also"}];function c(e){const l={a:"a",blockquote:"blockquote",code:"code",div:"div",figure:"figure",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...a(),...e.components},{ChoiceGroup:n}=l;return n||p("ChoiceGroup"),s.jsxs(s.Fragment,{children:[s.jsx("h2",{id:"unit-tests",children:"Unit tests"}),`
`,s.jsx(l.p,{children:"Using Vitest for unit tests should work out of the box."}),`
`,s.jsxs(l.blockquote,{children:[`
`,s.jsxs(l.p,{children:["By default, ",s.jsx(r,{href:"/vite-plugin",children:"Vike's Vite plugin"})," isn't loaded when running Vitest."]}),`
`,s.jsx(l.p,{children:"This is because Vitest is typically used for unit tests, where Vike's Vite plugin doesn't add any value. For that reason, Vike's Vite plugin removes itself when it detects Vitest."}),`
`,s.jsxs(l.p,{children:["If you do want Vike's Vite plugin to be loaded, use Vike's JavaScript API (Vike's Vite plugin won't remove itself then) — see ",s.jsx(r,{href:"#with-vike-e2e"}),"."]}),`
`]}),`
`,s.jsx("h2",{id:"with-vike-e2e",children:"With Vike (e2e)"}),`
`,s.jsxs(l.p,{children:["If you want to use Vitest to test your whole Vike app (typically for end-to-end tests), use ",s.jsx(r,{href:"/api",children:"Vike's JavaScript API"}),":"]}),`
`,s.jsxs(n,{choiceGroup:{name:"codeLang",choices:["JavaScript","TypeScript"],default:"JavaScript",disabled:[]},lvl:"0",children:[s.jsx(l.div,{"data-choice-value":"JavaScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"js","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// dev.spec.js"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { afterAll, beforeAll } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vitest'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { testApp, viteConfig } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" './testApp'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { dev } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vike/api'"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"let"}),s.jsx(l.span,{style:{color:"#24292E"},children:" viteServer"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"beforeAll"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  const"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { "}),s.jsx(l.span,{style:{color:"#005CC5"},children:"viteServer"}),s.jsx(l.span,{style:{color:"#24292E"},children:" } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" dev"}),s.jsx(l.span,{style:{color:"#24292E"},children:"({ viteConfig })"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" viteServer."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"listen"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" sleep"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#005CC5"},children:"10"}),s.jsx(l.span,{style:{color:"#24292E"},children:") "}),s.jsx(l.span,{style:{color:"#6A737D"},children:"// avoid race condition of server not actually being ready"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"}, "}),s.jsx(l.span,{style:{color:"#005CC5"},children:"10"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" *"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" 1000"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"afterAll"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" viteServer."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"close"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"})"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"testApp"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" sleep"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#E36209"},children:"milliseconds"}),s.jsx(l.span,{style:{color:"#24292E"},children:") {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  return"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" new"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" Promise"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(("}),s.jsx(l.span,{style:{color:"#E36209"},children:"r"}),s.jsx(l.span,{style:{color:"#24292E"},children:") "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" setTimeout"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(r, milliseconds))"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})}),s.jsx(l.div,{"data-choice-value":"TypeScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// dev.spec.ts"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { afterAll, beforeAll } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vitest'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { testApp, viteConfig } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" './testApp'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { dev } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vike/api'"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"let"}),s.jsx(l.span,{style:{color:"#24292E"},children:" viteServer"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Awaited"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"ReturnType"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#D73A49"},children:"typeof"}),s.jsx(l.span,{style:{color:"#24292E"},children:" dev>>["}),s.jsx(l.span,{style:{color:"#032F62"},children:"'viteServer'"}),s.jsx(l.span,{style:{color:"#24292E"},children:"]"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"beforeAll"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  const"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { "}),s.jsx(l.span,{style:{color:"#005CC5"},children:"viteServer"}),s.jsx(l.span,{style:{color:"#24292E"},children:" } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" dev"}),s.jsx(l.span,{style:{color:"#24292E"},children:"({ viteConfig })"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" viteServer."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"listen"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" sleep"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#005CC5"},children:"10"}),s.jsx(l.span,{style:{color:"#24292E"},children:") "}),s.jsx(l.span,{style:{color:"#6A737D"},children:"// avoid race condition of server not actually being ready"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"}, "}),s.jsx(l.span,{style:{color:"#005CC5"},children:"10"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" *"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" 1000"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"afterAll"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" viteServer."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"close"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"})"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"testApp"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" sleep"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#E36209"},children:"milliseconds"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" number"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Promise"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#005CC5"},children:"void"}),s.jsx(l.span,{style:{color:"#24292E"},children:"> {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  return"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" new"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" Promise"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(("}),s.jsx(l.span,{style:{color:"#E36209"},children:"r"}),s.jsx(l.span,{style:{color:"#24292E"},children:") "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" setTimeout"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(r, milliseconds))"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})})]}),`
`,s.jsxs(l.blockquote,{children:[`
`,s.jsxs(l.p,{children:["Make sure to use Vike's JavaScript API — not ",s.jsx(l.a,{href:"https://vite.dev/guide/api-javascript",children:"Vite's API"}),". (When using Vike's JavaScript API, ",s.jsx(r,{href:"#unit-tests",children:"Vike's Vite pugin won't remove itself"}),".)"]}),`
`]}),`
`,s.jsxs(n,{choiceGroup:{name:"codeLang",choices:["JavaScript","TypeScript"],default:"JavaScript",disabled:[]},lvl:"0",children:[s.jsx(l.div,{"data-choice-value":"JavaScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"js","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// preview.spec.js"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { afterAll, beforeAll } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vitest'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { testApp, viteConfig } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" './testApp'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { build, preview } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vike/api'"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"let"}),s.jsx(l.span,{style:{color:"#24292E"},children:" viteServer"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"beforeAll"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" build"}),s.jsx(l.span,{style:{color:"#24292E"},children:"({ viteConfig })"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  const"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { "}),s.jsx(l.span,{style:{color:"#005CC5"},children:"viteServer"}),s.jsx(l.span,{style:{color:"#24292E"},children:" } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" preview"}),s.jsx(l.span,{style:{color:"#24292E"},children:"({ viteConfig })"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"  // If you want to replicate Vite's startup log:"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  viteServer."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"printUrls"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"  // For the preview server, no need to call server.listen()"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"}, "}),s.jsx(l.span,{style:{color:"#005CC5"},children:"40"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" *"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" 1000"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"afterAll"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" viteServer."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"close"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"})"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"testApp"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]})]})})})}),s.jsx(l.div,{"data-choice-value":"TypeScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// preview.spec.ts"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { afterAll, beforeAll } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vitest'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { testApp, viteConfig } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" './testApp'"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { build, preview } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vike/api'"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"let"}),s.jsx(l.span,{style:{color:"#24292E"},children:" viteServer"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" Awaited"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"ReturnType"}),s.jsx(l.span,{style:{color:"#24292E"},children:"<"}),s.jsx(l.span,{style:{color:"#D73A49"},children:"typeof"}),s.jsx(l.span,{style:{color:"#24292E"},children:" preview>>["}),s.jsx(l.span,{style:{color:"#032F62"},children:"'viteServer'"}),s.jsx(l.span,{style:{color:"#24292E"},children:"]"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"beforeAll"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" build"}),s.jsx(l.span,{style:{color:"#24292E"},children:"({ viteConfig })"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  const"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { "}),s.jsx(l.span,{style:{color:"#005CC5"},children:"viteServer"}),s.jsx(l.span,{style:{color:"#24292E"},children:" } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" preview"}),s.jsx(l.span,{style:{color:"#24292E"},children:"({ viteConfig })"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"  // If you want to replicate Vite's startup log:"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  viteServer"}),s.jsx(l.span,{style:{color:"#D73A49"},children:"!"}),s.jsx(l.span,{style:{color:"#24292E"},children:"."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"printUrls"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"  // For the preview server, no need to call server.listen()"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"}, "}),s.jsx(l.span,{style:{color:"#005CC5"},children:"40"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" *"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" 1000"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"afterAll"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" viteServer"}),s.jsx(l.span,{style:{color:"#D73A49"},children:"!"}),s.jsx(l.span,{style:{color:"#24292E"},children:"."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"close"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"})"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"testApp"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]})]})})})})]}),`
`,s.jsxs(n,{choiceGroup:{name:"codeLang",choices:["JavaScript","TypeScript"],default:"JavaScript",disabled:[]},lvl:"0",children:[s.jsx(l.div,{"data-choice-value":"JavaScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"js","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// testApp.js"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { testApp }"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { viteConfig }"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { expect, describe, it } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vitest'"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" viteConfig"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  logLevel: "}),s.jsx(l.span,{style:{color:"#032F62"},children:"'warn'"}),s.jsx(l.span,{style:{color:"#24292E"},children:","})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"  root: __dirname,"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  configFile: __dirname "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"+"}),s.jsx(l.span,{style:{color:"#032F62"},children:" '/vite.config.js'"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" urlBase"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'http://localhost:3000'"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" testApp"}),s.jsx(l.span,{style:{color:"#24292E"},children:"() {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"  describe"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'Vitest'"}),s.jsx(l.span,{style:{color:"#24292E"},children:", () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"    it"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'run Vitest with Vike'"}),s.jsx(l.span,{style:{color:"#24292E"},children:", { timeout: "}),s.jsx(l.span,{style:{color:"#005CC5"},children:"10"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" *"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" 1000"}),s.jsx(l.span,{style:{color:"#24292E"},children:" }, "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"      {"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"        const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" html"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" fetchHtml"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'/'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"        expect"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(html)."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"toContain"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'<h1>Welcome</h1>'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"        expect"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(html)."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"toContain"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'<li>Rendered to HTML.</li>'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"      }"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"      {"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"        const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" html"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" fetchHtml"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'/about'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"        expect"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(html)."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"toContain"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'<h1>About</h1>'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"        expect"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(html)."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"toContain"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'<p>Example of using Vike.</p>'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"      }"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"    })"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"  })"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" fetchHtml"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#E36209"},children:"urlPathname"}),s.jsx(l.span,{style:{color:"#24292E"},children:") {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" ret"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" fetch"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(urlBase "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"+"}),s.jsx(l.span,{style:{color:"#24292E"},children:" urlPathname)"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" html"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" ret."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"text"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  return"}),s.jsx(l.span,{style:{color:"#24292E"},children:" html"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})}),s.jsx(l.div,{"data-choice-value":"TypeScript",className:"choice",children:s.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:s.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light",children:s.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#6A737D"},children:"// testApp.ts"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { testApp }"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { viteConfig }"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),s.jsx(l.span,{style:{color:"#24292E"},children:" { expect, describe, it } "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'vitest'"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" viteConfig"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  logLevel: "}),s.jsx(l.span,{style:{color:"#032F62"},children:"'warn'"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" as"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" const"}),s.jsx(l.span,{style:{color:"#24292E"},children:","})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"  root: __dirname,"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#24292E"},children:"  configFile: __dirname "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"+"}),s.jsx(l.span,{style:{color:"#032F62"},children:" '/vite.config.js'"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" urlBase"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#032F62"},children:" 'http://localhost:3000'"})]}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" testApp"}),s.jsx(l.span,{style:{color:"#24292E"},children:"() {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"  describe"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'Vitest'"}),s.jsx(l.span,{style:{color:"#24292E"},children:", () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"    it"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'run Vitest with Vike'"}),s.jsx(l.span,{style:{color:"#24292E"},children:", { timeout: "}),s.jsx(l.span,{style:{color:"#005CC5"},children:"10"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" *"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" 1000"}),s.jsx(l.span,{style:{color:"#24292E"},children:" }, "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#24292E"},children:" () "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"=>"}),s.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"      {"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"        const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" html"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" fetchHtml"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'/'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"        expect"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(html)."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"toContain"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'<h1>Welcome</h1>'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"        expect"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(html)."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"toContain"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'<li>Rendered to HTML.</li>'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"      }"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"      {"})}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"        const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" html"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" fetchHtml"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'/about'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"        expect"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(html)."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"toContain"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'<h1>About</h1>'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#6F42C1"},children:"        expect"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(html)."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"toContain"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#032F62"},children:"'<p>Example of using Vike.</p>'"}),s.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"      }"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"    })"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"  })"})}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})}),`
`,s.jsx(l.span,{"data-line":"",children:" "}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" function"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" fetchHtml"}),s.jsx(l.span,{style:{color:"#24292E"},children:"("}),s.jsx(l.span,{style:{color:"#E36209"},children:"urlPathname"}),s.jsx(l.span,{style:{color:"#D73A49"},children:":"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" string"}),s.jsx(l.span,{style:{color:"#24292E"},children:") {"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" ret"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" await"}),s.jsx(l.span,{style:{color:"#6F42C1"},children:" fetch"}),s.jsx(l.span,{style:{color:"#24292E"},children:"(urlBase "}),s.jsx(l.span,{style:{color:"#D73A49"},children:"+"}),s.jsx(l.span,{style:{color:"#24292E"},children:" urlPathname)"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  const"}),s.jsx(l.span,{style:{color:"#005CC5"},children:" html"}),s.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),s.jsx(l.span,{style:{color:"#D73A49"},children:" await"}),s.jsx(l.span,{style:{color:"#24292E"},children:" ret."}),s.jsx(l.span,{style:{color:"#6F42C1"},children:"text"}),s.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,s.jsxs(l.span,{"data-line":"",children:[s.jsx(l.span,{style:{color:"#D73A49"},children:"  return"}),s.jsx(l.span,{style:{color:"#24292E"},children:" html"})]}),`
`,s.jsx(l.span,{"data-line":"",children:s.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})})]}),`
`,s.jsx("h2",{id:"see-also",children:"See also"}),`
`,s.jsxs(l.ul,{children:[`
`,s.jsxs(l.li,{children:["Vike's Vite plugin self-removing logic: ",s.jsx(l.a,{href:"https://github.com/vikejs/vike/blob/69fbc7d76f2d6412485d0006b6faa3aad700edb8/packages/vike/src/node/vite/index.ts#L107-L124",children:s.jsx(l.code,{children:"vike/src/node/vite/index.ts#L107-L124"})})]}),`
`]})]})}function d(e={}){const{wrapper:l}={...a(),...e.components};return l?s.jsx(l,{...e,children:s.jsx(c,{...e})}):c(e)}function p(e,l){throw new Error("Expected component `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}const h=Object.freeze(Object.defineProperty({__proto__:null,default:d,pageSectionsExport:t},Symbol.toStringTag,{value:"Module"})),w={hasServerOnlyHook:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!1}},isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},guardEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"@brillout/docpress/renderer/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:i}},onCreatePageContext:{type:"cumulative",definedAtData:[{filePathToShowToUser:"@brillout/docpress/renderer/onCreatePageContext",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:o}]},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/vitest/+Page.mdx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:h}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"@brillout/docpress/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}}};export{w as configValuesSerialized};
