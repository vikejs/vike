import{o as h,a as p}from"../chunks/chunk-CxIOOiKX.js";import{j as e,d as r}from"../chunks/chunk-B35a6FX-.js";import{L as n}from"../chunks/chunk-BbfG-aTg.js";/* empty css                      *//* empty css                      *//* empty css                      */import{F as x}from"../chunks/chunk--yGbUSu9.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */import{u as i}from"../chunks/chunk-CJvpbNqo.js";import{U as j}from"../chunks/chunk-Dz_a-sZe.js";import{E as t}from"../chunks/chunk-C63C6Qu-.js";/* empty css                      *//* empty css                      *//* empty css                      */import{M as g}from"../chunks/chunk-BQZNJXwb.js";import{M as y}from"../chunks/chunk-DPWqfRGw.js";import{M as u,a as f}from"../chunks/chunk-ReCNkq_h.js";/* empty css                      *//* empty css                      *//* empty css                      */function d(s){const l={li:"li",p:"p",ul:"ul",...i(),...s.components};return e.jsxs(e.Fragment,{children:[e.jsx(l.p,{children:"Examples:"}),`
`,e.jsxs(l.ul,{children:[`
`,e.jsxs(l.li,{children:["React: ",e.jsx(r,{path:"/examples/cloudflare-workers-react/"})]}),`
`,e.jsxs(l.li,{children:["React + SSR Streaming: ",e.jsx(r,{path:"/examples/cloudflare-workers-react-full/"})]}),`
`,e.jsxs(l.li,{children:["Vue: ",e.jsx(r,{path:"/examples/cloudflare-workers-vue/"})]}),`
`]})]})}function o(s={}){const{wrapper:l}={...i(),...s.components};return l?e.jsx(l,{...s,children:e.jsx(d,{...s})}):d(s)}const m=[{pageSectionId:"get-started",pageSectionLevel:2,pageSectionTitle:"Get started"},{pageSectionId:"new-app",pageSectionLevel:3,pageSectionTitle:"New app"},{pageSectionId:"add-to-existing-app",pageSectionLevel:3,pageSectionTitle:"Add to existing app"},{pageSectionId:"1-install",pageSectionLevel:4,pageSectionTitle:"1. Install"},{pageSectionId:"2-scripts",pageSectionLevel:4,pageSectionTitle:"2. Scripts"},{pageSectionId:"3-wrangler-config",pageSectionLevel:4,pageSectionTitle:"3. Wrangler config"},{pageSectionId:"4-server-optional",pageSectionLevel:4,pageSectionTitle:"4. Server (optional)"},{pageSectionId:"cloudflare-apis",pageSectionLevel:2,pageSectionTitle:"Cloudflare APIs"},{pageSectionId:"typescript",pageSectionLevel:2,pageSectionTitle:"TypeScript"},{pageSectionId:"extend-3mb-limit",pageSectionLevel:2,pageSectionTitle:"Extend 3MB limit"},{pageSectionId:"manual-integration",pageSectionLevel:2,pageSectionTitle:"Manual integration"},{pageSectionId:"cloudflare-pages",pageSectionLevel:3,pageSectionTitle:"Cloudflare Pages"},{pageSectionId:"workers",pageSectionLevel:3,pageSectionTitle:"Workers"},{pageSectionId:"development",pageSectionLevel:3,pageSectionTitle:"Development"},{pageSectionId:"universal-fetch",pageSectionLevel:4,pageSectionTitle:"Universal `fetch()`"},{pageSectionId:"see-also",pageSectionLevel:2,pageSectionTitle:"See also"}];function c(s){const l={a:"a",blockquote:"blockquote",code:"code",div:"div",figure:"figure",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...i(),...s.components},{ChoiceGroup:a}=l;return a||C("ChoiceGroup"),e.jsxs(e.Fragment,{children:[`
`,e.jsx(u,{provider:"Cloudflare",link:"https://www.cloudflare.com"}),`
`,e.jsxs(l.blockquote,{children:[`
`,e.jsxs(l.p,{children:["In development, your server code runs inside ",e.jsx(l.code,{children:"workerd"})," (the runtime Cloudflare uses in production), so you're developing in an environment similar to production. This is a ",e.jsx(n,{href:"/blog/photon#cloudflare",children:"new Cloudflare feature that Photon supports"}),"."]}),`
`]}),`
`,e.jsx(f,{provider:"Cloudflare"}),`
`,e.jsx("h2",{id:"get-started",children:"Get started"}),`
`,e.jsx("h3",{id:"new-app",children:"New app"}),`
`,e.jsx(j,{children:"Cloudflare with Photon"}),`
`,e.jsx("h3",{id:"add-to-existing-app",children:"Add to existing app"}),`
`,e.jsxs(l.blockquote,{children:[`
`,e.jsxs(l.p,{children:["If you're using ",e.jsx(l.code,{children:"vike-server"})," then  ",e.jsxs(n,{href:"/migration/vike-photon",children:["migrate to ",e.jsx(l.code,{children:"vike-photon"})]}),"."]}),`
`]}),`
`,e.jsx("h4",{id:"1-install",children:"1. Install"}),`
`,e.jsxs(a,{choiceGroup:{name:"pkgManager",choices:["npm","pnpm","Bun","Yarn"],default:"npm",disabled:[]},lvl:"0",children:[e.jsx(l.div,{"data-choice-value":"npm",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"shell","data-theme":"github-light",children:e.jsx(l.code,{"data-language":"shell","data-theme":"github-light",style:{display:"grid"},children:e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#6F42C1"},children:"npm"}),e.jsx(l.span,{style:{color:"#032F62"},children:" install"}),e.jsx(l.span,{style:{color:"#032F62"},children:" wrangler"}),e.jsx(l.span,{style:{color:"#032F62"},children:" vike-photon"}),e.jsx(l.span,{style:{color:"#032F62"},children:" @photonjs/cloudflare"})]})})})})}),e.jsx(l.div,{"data-choice-value":"pnpm",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"shell","data-theme":"github-light",children:e.jsx(l.code,{"data-language":"shell","data-theme":"github-light",style:{display:"grid"},children:e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#6F42C1"},children:"pnpm"}),e.jsx(l.span,{style:{color:"#032F62"},children:" add"}),e.jsx(l.span,{style:{color:"#032F62"},children:" wrangler"}),e.jsx(l.span,{style:{color:"#032F62"},children:" vike-photon"}),e.jsx(l.span,{style:{color:"#032F62"},children:" @photonjs/cloudflare"})]})})})})}),e.jsx(l.div,{"data-choice-value":"Bun",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"shell","data-theme":"github-light",children:e.jsx(l.code,{"data-language":"shell","data-theme":"github-light",style:{display:"grid"},children:e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#6F42C1"},children:"bun"}),e.jsx(l.span,{style:{color:"#032F62"},children:" add"}),e.jsx(l.span,{style:{color:"#032F62"},children:" wrangler"}),e.jsx(l.span,{style:{color:"#032F62"},children:" vike-photon"}),e.jsx(l.span,{style:{color:"#032F62"},children:" @photonjs/cloudflare"})]})})})})}),e.jsx(l.div,{"data-choice-value":"Yarn",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"shell","data-theme":"github-light",children:e.jsx(l.code,{"data-language":"shell","data-theme":"github-light",style:{display:"grid"},children:e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#6F42C1"},children:"yarn"}),e.jsx(l.span,{style:{color:"#032F62"},children:" add"}),e.jsx(l.span,{style:{color:"#032F62"},children:" wrangler"}),e.jsx(l.span,{style:{color:"#032F62"},children:" vike-photon"}),e.jsx(l.span,{style:{color:"#032F62"},children:" @photonjs/cloudflare"})]})})})})})]}),`
`,e.jsxs(a,{choiceGroup:{name:"codeLang",choices:["JavaScript","TypeScript"],default:"JavaScript",disabled:[]},lvl:"0",children:[e.jsx(l.div,{"data-choice-value":"JavaScript",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{className:"has-diff",tabIndex:"0","data-language":"js","data-theme":"github-light",children:e.jsxs(l.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+config.js"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{className:"diff add","data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),e.jsx(l.span,{style:{color:"#24292E"},children:" vikePhoton "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),e.jsx(l.span,{style:{color:"#032F62"},children:" 'vike-photon/config'"})]}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),e.jsx(l.span,{style:{color:"#D73A49"},children:" default"}),e.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,e.jsx(l.span,{className:"diff add","data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"  extends: [vikePhoton] "})}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})}),e.jsx(l.div,{"data-choice-value":"TypeScript",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{className:"has-diff",tabIndex:"0","data-language":"ts","data-theme":"github-light",children:e.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+config.ts"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),e.jsx(l.span,{style:{color:"#D73A49"},children:" type"}),e.jsx(l.span,{style:{color:"#24292E"},children:" { Config } "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),e.jsx(l.span,{style:{color:"#032F62"},children:" 'vike/types'"})]}),`
`,e.jsxs(l.span,{className:"diff add","data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),e.jsx(l.span,{style:{color:"#24292E"},children:" vikePhoton "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),e.jsx(l.span,{style:{color:"#032F62"},children:" 'vike-photon/config'"})]}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),e.jsx(l.span,{style:{color:"#D73A49"},children:" default"}),e.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,e.jsx(l.span,{className:"diff add","data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"  extends: [vikePhoton] "})}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#24292E"},children:"} "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"satisfies"}),e.jsx(l.span,{style:{color:"#6F42C1"},children:" Config"})]})]})})})})]}),`
`,e.jsx(g,{pkg:"cloudflare"}),`
`,e.jsx("h4",{id:"2-scripts",children:"2. Scripts"}),`
`,e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{className:"has-diff",tabIndex:"0","data-language":"json","data-theme":"github-light",children:e.jsxs(l.code,{"data-language":"json","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// package.json"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"{"})}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#005CC5"},children:'  "scripts"'}),e.jsx(l.span,{style:{color:"#24292E"},children:": {"})]}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#005CC5"},children:'    "dev"'}),e.jsx(l.span,{style:{color:"#24292E"},children:": "}),e.jsx(l.span,{style:{color:"#032F62"},children:'"vike dev"'}),e.jsx(l.span,{style:{color:"#24292E"},children:","})]}),`
`,e.jsxs(l.span,{className:"diff add","data-line":"",children:[e.jsx(l.span,{style:{color:"#005CC5"},children:'    "preview"'}),e.jsx(l.span,{style:{color:"#24292E"},children:": "}),e.jsx(l.span,{style:{color:"#032F62"},children:'"vike build && vike preview"'}),e.jsx(l.span,{style:{color:"#24292E"},children:", "})]}),`
`,e.jsxs(l.span,{className:"diff add","data-line":"",children:[e.jsx(l.span,{style:{color:"#005CC5"},children:'    "deploy"'}),e.jsx(l.span,{style:{color:"#24292E"},children:": "}),e.jsx(l.span,{style:{color:"#032F62"},children:'"vike build && wrangler deploy"'})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"  }"})}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})}),`
`,e.jsx("h4",{id:"3-wrangler-config",children:"3. Wrangler config"}),`
`,e.jsx(x,{children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"jsonc","data-theme":"github-light",children:e.jsxs(l.code,{"data-language":"jsonc","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// wrangler.jsonc"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"{"})}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#005CC5"},children:'  "$schema"'}),e.jsx(l.span,{style:{color:"#24292E"},children:": "}),e.jsx(l.span,{style:{color:"#032F62"},children:'"node_modules/wrangler/config-schema.json"'}),e.jsx(l.span,{style:{color:"#24292E"},children:","})]}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#005CC5"},children:'  "compatibility_date"'}),e.jsx(l.span,{style:{color:"#24292E"},children:": "}),e.jsx(l.span,{style:{color:"#032F62"},children:'"2025-08-06"'}),e.jsx(l.span,{style:{color:"#24292E"},children:","})]}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#005CC5"},children:'  "name"'}),e.jsx(l.span,{style:{color:"#24292E"},children:": "}),e.jsx(l.span,{style:{color:"#032F62"},children:'"my-vike-cloudflare-app"'}),e.jsx(l.span,{style:{color:"#24292E"},children:","})]}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#005CC5"},children:'  "main"'}),e.jsx(l.span,{style:{color:"#24292E"},children:": "}),e.jsx(l.span,{style:{color:"#032F62"},children:'"virtual:photon:cloudflare:server-entry"'}),e.jsx(l.span,{style:{color:"#24292E"},children:","})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"  // Only required if your app (or one of your libraries) uses a Node.js API"})}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#005CC5"},children:'  "compatibility_flags"'}),e.jsx(l.span,{style:{color:"#24292E"},children:": ["}),e.jsx(l.span,{style:{color:"#032F62"},children:'"nodejs_compat"'}),e.jsx(l.span,{style:{color:"#24292E"},children:"]"})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})}),`
`,e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{className:"has-diff",tabIndex:"0","data-language":"bash","data-theme":"github-light",children:e.jsxs(l.code,{"data-language":"bash","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"# .gitignore"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsx(l.span,{className:"diff add","data-line":"",children:e.jsx(l.span,{style:{color:"#6F42C1"},children:".wrangler/"})})]})})}),`
`,e.jsx("h4",{id:"4-server-optional",children:"4. Server (optional)"}),`
`,e.jsx(y,{}),`
`,e.jsx("h2",{id:"cloudflare-apis",children:"Cloudflare APIs"}),`
`,e.jsxs(l.p,{children:["To access Cloudflare APIs (such as ",e.jsx(l.a,{href:"https://developers.cloudflare.com/d1/",children:"D1"})," and ",e.jsx(l.a,{href:"https://developers.cloudflare.com/kv/",children:"KV"}),"), use ",e.jsx(l.a,{href:"https://developers.cloudflare.com/workers/runtime-apis/bindings/",children:"Cloudflare's bindings"})," which are available via the ",e.jsx(l.code,{children:"env"})," object ",e.jsxs(l.a,{href:"https://developers.cloudflare.com/workers/runtime-apis/bindings/#importing-env-as-a-global",children:["imported from ",e.jsx(l.code,{children:"cloudflare:workers"})]}),"."]}),`
`,e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light",children:e.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment: server"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),e.jsx(l.span,{style:{color:"#24292E"},children:" { env } "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),e.jsx(l.span,{style:{color:"#032F62"},children:" 'cloudflare:workers'"})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// Key-value store"})}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#24292E"},children:"env."}),e.jsx(l.span,{style:{color:"#005CC5"},children:"KV"}),e.jsx(l.span,{style:{color:"#24292E"},children:"."}),e.jsx(l.span,{style:{color:"#6F42C1"},children:"get"}),e.jsx(l.span,{style:{color:"#24292E"},children:"("}),e.jsx(l.span,{style:{color:"#032F62"},children:"'my-key'"}),e.jsx(l.span,{style:{color:"#24292E"},children:")"})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment variable"})}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#24292E"},children:"env."}),e.jsx(l.span,{style:{color:"#005CC5"},children:"LOG_LEVEL"})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// ..."})})]})})}),`
`,e.jsxs(l.blockquote,{children:[`
`,e.jsxs(l.p,{children:["Example of using ",e.jsx(l.a,{href:"https://developers.cloudflare.com/d1/",children:"Cloudflare D1"}),":"]}),`
`,e.jsxs(a,{choiceGroup:{name:"pkgManager",choices:["npm","pnpm","Bun","Yarn"],default:"npm",disabled:[]},lvl:"0",children:[e.jsx(l.div,{"data-choice-value":"npm",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"shell","data-theme":"github-light",children:e.jsx(l.code,{"data-language":"shell","data-theme":"github-light",style:{display:"grid"},children:e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#6F42C1"},children:"npm"}),e.jsx(l.span,{style:{color:"#032F62"},children:" create"}),e.jsx(l.span,{style:{color:"#032F62"},children:" vike@latest"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --react"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --hono"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --drizzle"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --cloudflare"})]})})})})}),e.jsx(l.div,{"data-choice-value":"pnpm",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"shell","data-theme":"github-light",children:e.jsx(l.code,{"data-language":"shell","data-theme":"github-light",style:{display:"grid"},children:e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#6F42C1"},children:"pnpm"}),e.jsx(l.span,{style:{color:"#032F62"},children:" create"}),e.jsx(l.span,{style:{color:"#032F62"},children:" vike"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --react"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --hono"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --drizzle"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --cloudflare"})]})})})})}),e.jsx(l.div,{"data-choice-value":"Bun",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"shell","data-theme":"github-light",children:e.jsx(l.code,{"data-language":"shell","data-theme":"github-light",style:{display:"grid"},children:e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#6F42C1"},children:"bunx"}),e.jsx(l.span,{style:{color:"#032F62"},children:" create-vike"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --react"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --hono"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --drizzle"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --cloudflare"})]})})})})}),e.jsx(l.div,{"data-choice-value":"Yarn",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"shell","data-theme":"github-light",children:e.jsx(l.code,{"data-language":"shell","data-theme":"github-light",style:{display:"grid"},children:e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#6F42C1"},children:"yarn"}),e.jsx(l.span,{style:{color:"#032F62"},children:" create"}),e.jsx(l.span,{style:{color:"#032F62"},children:" vike"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --react"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --hono"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --drizzle"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" --cloudflare"})]})})})})})]}),`
`,e.jsxs(l.p,{children:["Or go to ",e.jsx(n,{href:"/new",children:"vike.dev/new"})," and select ",e.jsx(l.code,{children:"Cloudflare"})," with an ORM."]}),`
`]}),`
`,e.jsxs(l.blockquote,{children:[`
`,e.jsxs(l.p,{children:["To make environment variables available on the client-side, you can use ",e.jsx(n,{href:"/onCreateGlobalContext",children:"+onCreateGlobalContext.server.js"})," with a ",e.jsxs(n,{href:"/globalContext#custom",children:["custom ",e.jsx(l.code,{children:"globalContext"})," property"]})," and ",e.jsx(n,{href:"/passToClient",children:e.jsx(l.code,{children:"passToClient"})}),"."]}),`
`,e.jsxs(a,{choiceGroup:{name:"codeLang",choices:["JavaScript","TypeScript"],default:"JavaScript",disabled:[]},lvl:"0",children:[e.jsx(l.div,{"data-choice-value":"JavaScript",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"js","data-theme":"github-light",children:e.jsxs(l.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+onCreateGlobalContext.server.js"})}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment: server"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),e.jsx(l.span,{style:{color:"#24292E"},children:" { onCreateGlobalContext }"})]}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),e.jsx(l.span,{style:{color:"#24292E"},children:" { env } "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),e.jsx(l.span,{style:{color:"#032F62"},children:" 'cloudflare:workers'"})]}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),e.jsx(l.span,{style:{color:"#D73A49"},children:" function"}),e.jsx(l.span,{style:{color:"#6F42C1"},children:" onCreateGlobalContext"}),e.jsx(l.span,{style:{color:"#24292E"},children:"("}),e.jsx(l.span,{style:{color:"#E36209"},children:"globalContext"}),e.jsx(l.span,{style:{color:"#24292E"},children:") {"})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"  // Making the environment variable LOG_LEVEL available on the client-side"})}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#24292E"},children:"  globalContext.logLevel "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"="}),e.jsx(l.span,{style:{color:"#24292E"},children:" env."}),e.jsx(l.span,{style:{color:"#005CC5"},children:"LOG_LEVEL"}),e.jsx(l.span,{style:{color:"#D73A49"},children:" ||"}),e.jsx(l.span,{style:{color:"#032F62"},children:" 'info'"})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})}),e.jsx(l.div,{"data-choice-value":"TypeScript",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light",children:e.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+onCreateGlobalContext.server.ts"})}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment: server"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),e.jsx(l.span,{style:{color:"#24292E"},children:" { onCreateGlobalContext }"})]}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),e.jsx(l.span,{style:{color:"#24292E"},children:" { env } "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),e.jsx(l.span,{style:{color:"#032F62"},children:" 'cloudflare:workers'"})]}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),e.jsx(l.span,{style:{color:"#D73A49"},children:" type"}),e.jsx(l.span,{style:{color:"#24292E"},children:" { GlobalContextServer } "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),e.jsx(l.span,{style:{color:"#032F62"},children:" 'vike/types'"})]}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"async"}),e.jsx(l.span,{style:{color:"#D73A49"},children:" function"}),e.jsx(l.span,{style:{color:"#6F42C1"},children:" onCreateGlobalContext"}),e.jsx(l.span,{style:{color:"#24292E"},children:"("}),e.jsx(l.span,{style:{color:"#E36209"},children:"globalContext"}),e.jsx(l.span,{style:{color:"#D73A49"},children:":"}),e.jsx(l.span,{style:{color:"#6F42C1"},children:" GlobalContextServer"}),e.jsx(l.span,{style:{color:"#24292E"},children:") {"})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"  // Making the environment variable LOG_LEVEL available on the client-side"})}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#24292E"},children:"  globalContext.logLevel "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"="}),e.jsx(l.span,{style:{color:"#24292E"},children:" env."}),e.jsx(l.span,{style:{color:"#005CC5"},children:"LOG_LEVEL"}),e.jsx(l.span,{style:{color:"#D73A49"},children:" ||"}),e.jsx(l.span,{style:{color:"#032F62"},children:" 'info'"})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"}"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"declare"}),e.jsx(l.span,{style:{color:"#24292E"},children:" global {"})]}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"  namespace"}),e.jsx(l.span,{style:{color:"#6F42C1"},children:" Vike"}),e.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"    interface"}),e.jsx(l.span,{style:{color:"#6F42C1"},children:" GlobalContext"}),e.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#E36209"},children:"      logLevel"}),e.jsx(l.span,{style:{color:"#D73A49"},children:":"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" string"})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"    }"})}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"  }"})}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})})]}),`
`,e.jsxs(a,{choiceGroup:{name:"codeLang",choices:["JavaScript","TypeScript"],default:"JavaScript",disabled:[]},lvl:"0",children:[e.jsx(l.div,{"data-choice-value":"JavaScript",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"js","data-theme":"github-light",children:e.jsxs(l.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+config.js"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),e.jsx(l.span,{style:{color:"#D73A49"},children:" default"}),e.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#24292E"},children:"  passToClient: ["}),e.jsx(l.span,{style:{color:"#032F62"},children:"'logLevel'"}),e.jsx(l.span,{style:{color:"#24292E"},children:"]"})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})})}),e.jsx(l.div,{"data-choice-value":"TypeScript",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light",children:e.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// pages/+config.ts"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),e.jsx(l.span,{style:{color:"#D73A49"},children:" type"}),e.jsx(l.span,{style:{color:"#24292E"},children:" { Config } "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),e.jsx(l.span,{style:{color:"#032F62"},children:" 'vike/types'"})]}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"export"}),e.jsx(l.span,{style:{color:"#D73A49"},children:" default"}),e.jsx(l.span,{style:{color:"#24292E"},children:" {"})]}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#24292E"},children:"  passToClient: ["}),e.jsx(l.span,{style:{color:"#032F62"},children:"'logLevel'"}),e.jsx(l.span,{style:{color:"#24292E"},children:"]"})]}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#24292E"},children:"} "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"satisfies"}),e.jsx(l.span,{style:{color:"#6F42C1"},children:" Config"})]})]})})})})]}),`
`,e.jsxs(a,{choiceGroup:{name:"codeLang",choices:["JavaScript","TypeScript"],default:"JavaScript",disabled:[]},lvl:"0",hide:!0,children:[e.jsx(l.div,{"data-choice-value":"JavaScript",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"js","data-theme":"github-light",children:e.jsxs(l.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// anywhere.js"})}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment: server and/or client"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),e.jsx(l.span,{style:{color:"#24292E"},children:" { getGlobalContext } "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),e.jsx(l.span,{style:{color:"#032F62"},children:" 'vike'"})]}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"const"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" globalContext"}),e.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),e.jsx(l.span,{style:{color:"#6F42C1"},children:" getGlobalContext"}),e.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// Available anywhere"})}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#24292E"},children:"console."}),e.jsx(l.span,{style:{color:"#6F42C1"},children:"log"}),e.jsx(l.span,{style:{color:"#24292E"},children:"(globalContext.logLevel)"})]})]})})})}),e.jsx(l.div,{"data-choice-value":"TypeScript",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-light",children:e.jsxs(l.code,{"data-language":"ts","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// anywhere.ts"})}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// Environment: server and/or client"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"import"}),e.jsx(l.span,{style:{color:"#24292E"},children:" { getGlobalContext } "}),e.jsx(l.span,{style:{color:"#D73A49"},children:"from"}),e.jsx(l.span,{style:{color:"#032F62"},children:" 'vike'"})]}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#D73A49"},children:"const"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" globalContext"}),e.jsx(l.span,{style:{color:"#D73A49"},children:" ="}),e.jsx(l.span,{style:{color:"#6F42C1"},children:" getGlobalContext"}),e.jsx(l.span,{style:{color:"#24292E"},children:"()"})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// Available anywhere"})}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#24292E"},children:"console."}),e.jsx(l.span,{style:{color:"#6F42C1"},children:"log"}),e.jsx(l.span,{style:{color:"#24292E"},children:"(globalContext.logLevel)"})]})]})})})})]}),`
`]}),`
`,e.jsx("h2",{id:"typescript",children:"TypeScript"}),`
`,e.jsxs(l.p,{children:["If you use TypeScript, run ",e.jsx(l.a,{href:"https://developers.cloudflare.com/workers/wrangler/commands/#types",children:e.jsx(l.code,{children:"wrangler types"})})," whenever you change your Cloudflare configuration to update the ",e.jsx(l.code,{children:"worker-configuration.d.ts"})," file."]}),`
`,e.jsxs(a,{choiceGroup:{name:"pkgManager",choices:["npm","pnpm","Bun","Yarn"],default:"npm",disabled:[]},lvl:"0",children:[e.jsx(l.div,{"data-choice-value":"npm",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"shell","data-theme":"github-light",children:e.jsx(l.code,{"data-language":"shell","data-theme":"github-light",style:{display:"grid"},children:e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#6F42C1"},children:"npx"}),e.jsx(l.span,{style:{color:"#032F62"},children:" wrangler"}),e.jsx(l.span,{style:{color:"#032F62"},children:" types"})]})})})})}),e.jsx(l.div,{"data-choice-value":"pnpm",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"shell","data-theme":"github-light",children:e.jsx(l.code,{"data-language":"shell","data-theme":"github-light",style:{display:"grid"},children:e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#6F42C1"},children:"pnpm"}),e.jsx(l.span,{style:{color:"#032F62"},children:" dlx"}),e.jsx(l.span,{style:{color:"#032F62"},children:" wrangler"}),e.jsx(l.span,{style:{color:"#032F62"},children:" types"})]})})})})}),e.jsx(l.div,{"data-choice-value":"Bun",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"shell","data-theme":"github-light",children:e.jsx(l.code,{"data-language":"shell","data-theme":"github-light",style:{display:"grid"},children:e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#6F42C1"},children:"bun"}),e.jsx(l.span,{style:{color:"#032F62"},children:" x"}),e.jsx(l.span,{style:{color:"#032F62"},children:" wrangler"}),e.jsx(l.span,{style:{color:"#032F62"},children:" types"})]})})})})}),e.jsx(l.div,{"data-choice-value":"Yarn",className:"choice",children:e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"shell","data-theme":"github-light",children:e.jsx(l.code,{"data-language":"shell","data-theme":"github-light",style:{display:"grid"},children:e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#6F42C1"},children:"yarn"}),e.jsx(l.span,{style:{color:"#032F62"},children:" dlx"}),e.jsx(l.span,{style:{color:"#032F62"},children:" wrangler"}),e.jsx(l.span,{style:{color:"#032F62"},children:" types"})]})})})})})]}),`
`,e.jsx(l.p,{children:"Then commit:"}),`
`,e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{tabIndex:"0","data-language":"bash","data-theme":"github-light",children:e.jsx(l.code,{"data-language":"bash","data-theme":"github-light",style:{display:"grid"},children:e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#6F42C1"},children:"git"}),e.jsx(l.span,{style:{color:"#032F62"},children:" commit"}),e.jsx(l.span,{style:{color:"#005CC5"},children:" -am"}),e.jsx(l.span,{style:{color:"#032F62"},children:' "update cloudflare types"'})]})})})}),`
`,e.jsx(l.p,{children:"Make sure TypeScript loads it:"}),`
`,e.jsx(l.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(l.pre,{className:"has-diff",tabIndex:"0","data-language":"jsonc","data-theme":"github-light",children:e.jsxs(l.code,{"data-language":"jsonc","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#6A737D"},children:"// tsconfig.json"})}),`
`,e.jsx(l.span,{"data-line":"",children:" "}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"{"})}),`
`,e.jsxs(l.span,{"data-line":"",children:[e.jsx(l.span,{style:{color:"#005CC5"},children:'  "compilerOptions"'}),e.jsx(l.span,{style:{color:"#24292E"},children:": {"})]}),`
`,e.jsxs(l.span,{className:"diff add","data-line":"",children:[e.jsx(l.span,{style:{color:"#005CC5"},children:'    "types"'}),e.jsx(l.span,{style:{color:"#24292E"},children:": ["}),e.jsx(l.span,{style:{color:"#032F62"},children:'"./worker-configuration.d.ts"'}),e.jsx(l.span,{style:{color:"#24292E"},children:"] "})]}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:" }"})}),`
`,e.jsx(l.span,{"data-line":"",children:e.jsx(l.span,{style:{color:"#24292E"},children:"}"})})]})})}),`
`,e.jsxs(l.p,{children:["See also: ",e.jsx(l.a,{href:"https://developers.cloudflare.com/workers/languages/typescript/",children:"Cloudflare Workers > TypeScript"})]}),`
`,e.jsx("h2",{id:"extend-3mb-limit",children:"Extend 3MB limit"}),`
`,e.jsx(l.p,{children:"By default the bundle size of your worker cannot exceed 3MB, but you can request sizes of up to 100MB and beyond."}),`
`,e.jsxs(l.ul,{children:[`
`,e.jsx(l.li,{children:e.jsx(l.a,{href:"https://www.cloudflare.com/larger-scripts-on-workers-early-access/",children:"Cloudflare Workers > Larger Scripts"})}),`
`,e.jsx(l.li,{children:e.jsx(l.a,{href:"https://developers.cloudflare.com/workers/platform/limits/#worker-size",children:"Cloudflare Workers > Limits > Worker Size"})}),`
`]}),`
`,e.jsx("h2",{id:"manual-integration",children:"Manual integration"}),`
`,e.jsxs(l.p,{children:["Instead of using ",e.jsx(l.code,{children:"vike-photon"}),", you can manually integrate your app with Cloudflare yourself."]}),`
`,e.jsx("h3",{id:"cloudflare-pages",children:"Cloudflare Pages"}),`
`,e.jsx(l.p,{children:"For a manual integration, we generally recommend using:"}),`
`,e.jsxs(l.ul,{children:[`
`,e.jsxs(l.li,{children:[e.jsx(l.a,{href:"https://developers.cloudflare.com/pages/",children:"Cloudflare Pages"})," for static assets and ",e.jsx(n,{href:"/pre-rendering",children:"pre-rendered pages"}),", and"]}),`
`,e.jsxs(l.li,{children:[e.jsx(l.a,{href:"https://developers.cloudflare.com/pages/platform/functions/",children:"Pages Functions"})," for ",e.jsx(n,{href:"/ssr",children:"SSR'd pages"}),"."]}),`
`]}),`
`,e.jsx(l.p,{children:"Examples:"}),`
`,e.jsxs(l.ul,{children:[`
`,e.jsxs(l.li,{children:[e.jsx(t,{timestamp:"2024.01",repo:"travis-r6s/vike-cf-pages"})," - Advanced demo showcasing a lot of integrations such as REST, tRPC, GraphQL, Sentry, and Thumbprint."]}),`
`,e.jsxs(l.li,{children:[`
`,e.jsx(t,{timestamp:"2022.04",repo:"Immortalin/vite-plugin-ssr-cloudflare-pages-demo"}),`
`,e.jsxs(l.blockquote,{children:[`
`,e.jsxs(l.p,{children:["vite-plugin-ssr was the ",e.jsx(l.a,{href:"https://vite-plugin-ssr.com/vike",children:"previous name of Vike"}),"."]}),`
`]}),`
`]}),`
`]}),`
`,e.jsx("h3",{id:"workers",children:"Workers"}),`
`,e.jsxs(l.p,{children:["You can also directly use ",e.jsx(l.a,{href:"https://workers.cloudflare.com",children:"Cloudflare Workers"})," instead of using Cloudflare Pages."]}),`
`,e.jsxs(l.p,{children:["Cloudflare Workers requires your entire worker code to be bundled into a single file â€” you can use ",e.jsx(l.a,{href:"https://github.com/cloudflare/workers-sdk",children:"Wrangler"})," to achieve that (it uses ",e.jsx(l.a,{href:"https://esbuild.github.io/",children:"esbuild"})," under the hood)."]}),`
`,e.jsxs(l.blockquote,{children:[`
`,e.jsx(l.p,{children:'Cloudflare uses the term "worker code" to denote server code that is run on its edge infrastructure.'}),`
`]}),`
`,e.jsx(o,{}),`
`,e.jsx("h3",{id:"development",children:"Development"}),`
`,e.jsxs(l.p,{children:["For a significantly faster development experience we recommend, whenever possible, using Vite's development server (or a server such as ",e.jsx(n,{href:"/express",children:"Express.js"})," or ",e.jsx(n,{href:"/hono",children:"Hono"}),") instead of Wrangler."]}),`
`,e.jsx(l.p,{children:"In other words:"}),`
`,e.jsxs(l.ul,{children:[`
`,e.jsxs(l.li,{children:["Skip ",e.jsx(l.code,{children:"wrangler"})," / Cloudflare Workers altogether while developing your app."]}),`
`,e.jsxs(l.li,{children:["Use ",e.jsx(l.code,{children:"wrangler dev"})," to preview your worker."]}),`
`,e.jsxs(l.li,{children:["Use ",e.jsx(l.code,{children:"wrangler publish"})," to deploy your worker to Cloudflare Workers."]}),`
`]}),`
`,e.jsx(o,{}),`
`,e.jsxs("h4",{id:"universal-fetch",children:["Universal ",e.jsx("code",{children:"fetch()"})]}),`
`,e.jsxs(l.p,{children:["When using Node.js(/Bun/Deno) for development and Cloudflare Workers for production, you may need a ",e.jsx(l.code,{children:"fetch()"})," function that works in both environments."]}),`
`,e.jsxs(l.p,{children:["You can define a fetch function at ",e.jsx(l.code,{children:"pageContext.fetch"}),` that works in all environments.
The trick is to add a different `,e.jsx(l.code,{children:"fetch()"})," implementation to ",e.jsx(l.code,{children:"pageContextInit"})," at ",e.jsx(n,{text:e.jsx(l.code,{children:"renderPage(pageContextInit)"}),href:"/renderPage"}),"."]}),`
`,e.jsxs(l.p,{children:["Example: ",e.jsx(r,{path:"/examples/cloudflare-workers-react-full#universal-fetch"}),"."]}),`
`,e.jsxs(l.blockquote,{children:[`
`,e.jsxs(l.p,{children:["Libraries such as ",e.jsx(l.code,{children:"node-fetch"})," or ",e.jsx(l.code,{children:"cross-fetch"})," typically don't work with Cloudflare Workers."]}),`
`]}),`
`,e.jsx("h2",{id:"see-also",children:"See also"}),`
`,e.jsxs(l.ul,{children:[`
`,e.jsxs(l.li,{children:[`
`,e.jsx(n,{href:"/cloudflare-pages"}),`
`]}),`
`,e.jsx(l.li,{children:e.jsx(l.a,{href:"https://developers.cloudflare.com/workers/",children:"Cloudflare Workers"})}),`
`,e.jsx(l.li,{children:e.jsx(l.a,{href:"https://cloudflare.com",children:"Cloudflare"})}),`
`]})]})}function v(s={}){const{wrapper:l}={...i(),...s.components};return l?e.jsx(l,{...s,children:e.jsx(c,{...s})}):c(s)}function C(s,l){throw new Error("Expected component `"+s+"` to be defined: you likely forgot to import, pass, or provide it.")}const b=Object.freeze(Object.defineProperty({__proto__:null,default:v,pageSectionsExport:m},Symbol.toStringTag,{value:"Module"})),X={hasServerOnlyHook:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!1}},isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},guardEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"@brillout/docpress/renderer/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:p}},onCreatePageContext:{type:"cumulative",definedAtData:[{filePathToShowToUser:"@brillout/docpress/renderer/onCreatePageContext",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:h}]},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/cloudflare/+Page.mdx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:b}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"@brillout/docpress/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}}};export{X as configValuesSerialized};
