import{a as c,u as j,c as h,j as u,p as m,R as k,d as p,e as o}from"./chunk-BVtPDciO.js";function L(n){n=n.toLowerCase(),n=T(n);const t=n.split(/[^a-z0-9\u4E00-\u9FA5]+/).filter(Boolean).join("-");return t===""?null:t}function T(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function P(n){return c(n.includes("#"),{urlWithHash:n}),n.split("#")[1].split("-").map((s,e)=>e===0?F(s):s).join(" ")}function F(n){return n[0].toUpperCase()+n.slice(1)}function $({href:n,text:t,noBreadcrumb:i,doNotInferSectionTitle:s,noWarning:e,children:r}){const a=j();h(n.startsWith("/")||n.startsWith("#"),`<Link href /> prop \`href==='${n}'\` but should start with '/' or '#'`),h(!t||!r,"Cannot use both `text` or `children`"),t=t??r;const l=b({href:n,pageContext:a,doNotInferSectionTitle:s,noWarning:e});return t||(l?t=D({noBreadcrumb:i,...l}):t="LINK-TARGET-NOT-FOUND"),u.jsx("a",{href:n,children:t})}function D({noBreadcrumb:n,linkData:t,sectionTitle:i,isLinkOnSamePage:s}){const e=[];return t.linkBreadcrumb&&e.push(...(t.linkBreadcrumb??[]).slice().reverse().map(m)),e.push(m(t.title)),i&&e.push(i),n||s?e[e.length-1]:u.jsx(u.Fragment,{children:e.map((r,a)=>{const l=a===0?u.jsx(u.Fragment,{}):" > ";return u.jsxs(k.Fragment,{children:[l,r]},a)})})}function b({href:n,pageContext:t,doNotInferSectionTitle:i,noWarning:s}){const{hrefPathname:e,hrefHash:r}=x(n),a=g(e||t.urlPathname,{pageContext:t,noWarning:s});if(!a)return null;const l=a.url===t.urlPathname;e||c(l);let f=null;if(r){if(c(!r.startsWith("#")),l){const d=g(`#${r}`,{pageContext:t,noWarning:s});if(!d)return null;f=m(d.title)}else"sectionTitles"in a&&a.sectionTitles&&a.sectionTitles.forEach(d=>{L(d)===r&&(f=m(d))});if(!f){if(i)return p(!1,`Page section title not found for <Link href="\`${n}\`" doNotInferSectionTitle={true} />.`),null;f=u.jsx(u.Fragment,{children:P(n)})}}return{linkData:a,sectionTitle:f,isLinkOnSamePage:l}}function g(n,{pageContext:t,noWarning:i}){c(n.startsWith("/")||n.startsWith("#"));const{linksAll:s}=t.resolved,e=s.find(({url:r})=>n===r);return n.startsWith("#")?i||p(e,`Couldn't find ${n} in ${t.urlPathname}, does it exist?`):i||p(e,[`Couldn't find page with URL ${o.bold(n)}`,"â€” did you define it in",[o.cyan("docpress.config.js"),o.dim("#{"),o.cyan("headings"),o.dim(","),o.cyan("headingsDetached"),o.dim("}"),"?"].join("")].join(" ")),e??null}function x(n){let t=null,i=null;if(!n.includes("#"))i=n;else{const[s,...e]=n.split("#");s&&(i=s),t=e.join("#")}return c(i!==null||t!==null),c(i||t),t&&(t=t.split(":~:text")[0]),{hrefPathname:i,hrefHash:t}}export{$ as L};
